syntax = "proto3";

package ntx.v1;

import "google/protobuf/timestamp.proto";
import "ntx/v1/common.proto";

option go_package = "github.com/voidarchive/ntx/gen/go/ntx/v1;ntxv1";

service PriceService {
  rpc GetPrice(GetPriceRequest) returns (GetPriceResponse);
  rpc ListCandles(ListCandlesRequest) returns (ListCandlesResponse);
}

message GetPriceRequest {
  string symbol = 1;
}

message GetPriceResponse {
  Price price = 1;
}

message ListCandlesRequest {
  string symbol = 1;
  google.protobuf.Timestamp from = 2;
  google.protobuf.Timestamp to = 3;
  TimeFrame time_frame = 4;
}

enum TimeFrame {
  TIME_FRAME_UNSPECIFIED = 0;
  TIME_FRAME_DAILY = 1;
  TIME_FRAME_WEEKLY = 2;
  TIME_FRAME_MONTHLY = 3;
}

message ListCandlesResponse {
  repeated OHLCV candles = 1;
}
