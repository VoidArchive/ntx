syntax = "proto3";

package ntx.v1;

import "google/protobuf/timestamp.proto";
import "ntx/v1/common.proto";

option go_package = "github.com/voidarchive/ntx/gen/go/ntx/v1;ntxv1";

service MarketService {
  rpc GetStatus(GetStatusRequest) returns (GetStatusResponse);
  rpc ListIndices(ListIndicesRequest) returns (ListIndicesResponse);
  rpc ListSectors(ListSectorsRequest) returns (ListSectorsResponse);
}

message MarketStatus {
  bool is_open = 1;
  string state = 2; // "open", "closed", "pre-open"
  google.protobuf.Timestamp as_of = 3;
}

message GetStatusRequest {}

message GetStatusResponse {
  MarketStatus status = 1;
}

message ListIndicesRequest {}

message ListIndicesResponse {
  repeated Index indices = 1;
}

message ListSectorsRequest {}

message ListSectorsResponse {
  repeated SectorSummary sectors = 1;
}
